{
  "name": "sophia-intel-production",
  "description": "SOPHIA Intel AI Platform with Lambda Labs GH200 Integration",
  "services": [
    {
      "name": "orchestrator",
      "source": {
        "type": "github",
        "repo": "ai-cherry/sophia-intel",
        "branch": "main",
        "rootDirectory": "orchestrator"
      },
      "build": {
        "buildCommand": "pip install -r requirements.txt",
        "startCommand": "python -m uvicorn app:app --host 0.0.0.0 --port $PORT"
      },
      "environment": {
        "LAMBDA_PRIMARY_URL": "http://192.222.51.223:8000",
        "LAMBDA_SECONDARY_URL": "http://192.222.50.242:8000",
        "OPENROUTER_API_KEY": "$OPENROUTER_API_KEY",
        "REDIS_HOST": "redis-cache",
        "REDIS_PORT": "6379",
        "QDRANT_HOST": "vector-store",
        "QDRANT_PORT": "6333",
        "PROMETHEUS_PORT": "8090",
        "LOG_LEVEL": "INFO",
        "ENVIRONMENT": "production"
      },
      "healthcheck": {
        "path": "/health",
        "interval": 30,
        "timeout": 10,
        "retries": 3
      }
    },
    {
      "name": "api-gateway",
      "source": {
        "type": "github",
        "repo": "ai-cherry/sophia-intel",
        "branch": "main",
        "rootDirectory": "backend"
      },
      "build": {
        "buildCommand": "pip install -r requirements.txt",
        "startCommand": "python -m uvicorn main:app --host 0.0.0.0 --port $PORT"
      },
      "environment": {
        "ORCHESTRATOR_URL": "https://orchestrator.railway.internal",
        "LAMBDA_PRIMARY_URL": "http://192.222.51.223:8000",
        "LAMBDA_SECONDARY_URL": "http://192.222.50.242:8000",
        "OPENROUTER_API_KEY": "$OPENROUTER_API_KEY",
        "CORS_ORIGINS": "https://www.sophia-intel.ai,https://dashboard.railway.app",
        "LOG_LEVEL": "INFO",
        "ENVIRONMENT": "production"
      },
      "healthcheck": {
        "path": "/health",
        "interval": 30,
        "timeout": 10,
        "retries": 3
      }
    },
    {
      "name": "dashboard",
      "source": {
        "type": "github",
        "repo": "ai-cherry/sophia-intel",
        "branch": "main",
        "rootDirectory": "apps/dashboard"
      },
      "build": {
        "buildCommand": "npm install && npm run build",
        "startCommand": "npm run preview -- --host 0.0.0.0 --port $PORT"
      },
      "environment": {
        "VITE_API_URL": "https://api-gateway.railway.app",
        "VITE_ENVIRONMENT": "production",
        "NODE_ENV": "production"
      }
    },
    {
      "name": "mcp-server",
      "source": {
        "type": "github",
        "repo": "ai-cherry/sophia-intel",
        "branch": "main",
        "rootDirectory": "mcp-server"
      },
      "build": {
        "buildCommand": "pip install -r requirements.txt",
        "startCommand": "python mcp_server.py"
      },
      "environment": {
        "LAMBDA_PRIMARY_URL": "http://192.222.51.223:8000",
        "LAMBDA_SECONDARY_URL": "http://192.222.50.242:8000",
        "OPENROUTER_API_KEY": "$OPENROUTER_API_KEY",
        "LOG_LEVEL": "INFO",
        "ENVIRONMENT": "production"
      }
    }
  ],
  "databases": [
    {
      "name": "redis-cache",
      "type": "redis",
      "plan": "hobby"
    },
    {
      "name": "postgres",
      "type": "postgresql",
      "plan": "hobby"
    },
    {
      "name": "vector-store",
      "type": "qdrant",
      "plan": "hobby"
    }
  ],
  "domains": [
    {
      "service": "dashboard",
      "domain": "www.sophia-intel.ai"
    },
    {
      "service": "api-gateway",
      "domain": "api.sophia-intel.ai"
    }
  ]
}

